CTE - A NAMED TEMPORARY RESULT SET - ONLY CREATED IN MEMORY NOT A FILE 
EXAMPLE:

WITH CTE_EMPLOYEE AS
(select FirstName, LASTNAME, GENDER, SALARY, 
COUNT(GENDER) OVER (PARTITION BY GENDER) AS TOTALGENDER
, avg(salary) over (PARTITION BY GENDER) AS AvgSALARY
From EmployeeDemographics1 DEM
JOIN employeeSalary SAL
ON DEM.EmployeeID = SAL.EmployeeID
WHERE SALARY > '40000' )

SELECT * FROM CTE_EMPLOYEE

OR COULD DO 

SELECT FirstName, AVGSALARY
FROM CTE_EMPLOYEE
                            BUT THE CTE QUERY MUST BE IN THE SAME QUERY PAGE
                            
                            
